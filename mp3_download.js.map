{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/lodash/last.js","webpack:///./src/util/helpers.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/_getNative.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/_isPrototype.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/_toSource.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/isEmpty.js","webpack:///./node_modules/lodash/_baseKeys.js","webpack:///./node_modules/lodash/_nativeKeys.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_getTag.js","webpack:///./node_modules/lodash/_DataView.js","webpack:///./node_modules/lodash/_baseIsNative.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/_isMasked.js","webpack:///./node_modules/lodash/_coreJsData.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_Map.js","webpack:///./node_modules/lodash/_Promise.js","webpack:///./node_modules/lodash/_Set.js","webpack:///./node_modules/lodash/_WeakMap.js","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/lodash/_baseIsArguments.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/isBuffer.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/isTypedArray.js","webpack:///./node_modules/lodash/_baseIsTypedArray.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/_nodeUtil.js","webpack:///./src/common/util/dbp.js","webpack:///./src/pages/Mp3Download.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","e","window","array","length","undefined","capitalize","sentence","charAt","toUpperCase","slice","toLowerCase","formatDonationText","amount","amountWithCommasRegex","toFixed","replace","toString","getFormCampaign","objName","campaign","last","location","href","split","localForm","webpackPolyfill","deprecate","paths","children","freeGlobal","freeSelf","self","root","baseIsNative","getValue","getRawTag","objectToString","symToStringTag","objectProto","Ctor","constructor","baseGetTag","isObject","tag","global","type","funcToString","func","baseKeys","getTag","isArguments","isArray","isArrayLike","isBuffer","isPrototype","isTypedArray","splice","size","nativeKeys","result","push","overArg","keys","transform","arg","DataView","Map","Promise","Set","WeakMap","toSource","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","resolve","ctorString","getNative","isFunction","isMasked","reIsHostCtor","funcProto","reIsNative","RegExp","test","nativeObjectToString","isOwn","unmasked","uid","coreJsData","maskSrcKey","exec","IE_PROTO","baseIsArguments","isObjectLike","propertyIsEnumerable","arguments","Array","isLength","stubFalse","freeExports","nodeType","freeModule","Buffer","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","typedArrayTags","freeProcess","process","types","require","binding","DBP_KEY","languages","versions","versionIds","FCBH","docReady","searchbar","document","getElementById","languageAutocomplete","params","URLSearchParams","search","languageParam","versionParam","getElementsByClassName","id","forEach","inputId","addEventListener","checkAllowedText","onSearchbarValueChange","languageList","matches","_ret","div","innerHTML","style","display","_loop","v","languageName","matchedText","restOfText","createElement","onclick","onLanguageChange","appendChild","_ret2","console","log","setLanguageAutocomplete","map","lang","language_english","language","handleLanguageChange","setSearchbar","version","selectedLang","find","language_family_code","fetchVersions","handleLanguageAutocompleteInteraction","active","querySelector","target","nodeName","classList","remove","add","which","innerText","preventDefault","nextElementSibling","firstChild","previousElementSibling","text","setVersion","versionId","versionSelect","childNodes","onVersionChange","textContent","from","filter","element","onkeyup","ev","ua","navigator","userAgent","msie","indexOf","parseInt","substring","isLessThenIE10","baseUrl","axiosInstance","data","pagination","meta","all","prepareLanguagesRequest","total_pages","response","concat","getMappedLanguages","flattenLanguages","totalPages","requests","page","reduce","arr","res","x","iso","language_name","autonym","selectedDamId","closeSearchDiv","isEmpty","dam_id","renderVersions","renderCopyright","error","showErrorWithMessage","json","container","removeChild","j","testamentInitial","testament","node","textNode","createTextNode","volume_name","media_type","setParams","selected","firstElementChild","dataset","newurl","protocol","host","pathname","history","pushState","path","damId","isEventChange","hideError","textValue","setAttribute","overflow","dispatchEvent","MouseEvent","view","bubbles","cancelable","rootDamId","details","$","url","BASE_URL","dataType","success","mark","organization","org","organization_role","organization_url","copyrightNode","lastChild","obj","prop","notEmpty","copyrightMark","span","copyrighter","copyrighterURL","licensor","licensorURL","holderOrg","holderURL","publisherMark","onDownloadClicked","event","lastName","email","recieveEmails","checked","isTextEmpty","atLeastOneLetter","trim","match","getAttribute","querySelectorAll","findIndex","option","grecaptcha","getResponse","successContainer","linkNode","downloader","download","audio_zip_path","parentNode","replaceChild","click","first_name","last_name","timestamp","Date","now","language_code","version_dam_id","version_name","recieve_emails","firebaseDb","collection","then","docRef","catch","scrollTo","message","messageContainer","getLanguages","finally","el","button"],"mappings":"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","file":"mp3_download.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 76);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","import last from 'lodash/last';\n\nexport function capitalize(sentence) {\n    return sentence.charAt(0).toUpperCase() + sentence.slice(1).toLowerCase()\n}\n\nexport function formatDonationText(amount) {\n    const amountWithCommasRegex = /(\\d)(?=(\\d\\d\\d)+(?!\\d))/g\n    const amountParsed = (amount % 1) !== 0 ? amount.toFixed(2).replace(amountWithCommasRegex, \"$1,\") : amount.toString().replace(amountWithCommasRegex, \"$1,\")\n    return amountParsed\n}\n\nexport const getFormCampaign = ( objName ) => {\n    const campaign = last(window.location.href.split('/'));\n\n    return { \n        campaign,\n        localForm: `${objName}/${campaign}`\n    };\n};","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","export const DBP_KEY = \"e4a78850aaa914bea244b6482d6a0cc2\";\nexport const DBP_BASE_URL = \"https://4.dbt.io\";\n","import { capitalize } from \"../util/helpers\";\nimport isEmpty from 'lodash/isEmpty';\nimport { DBP_BASE_URL, DBP_KEY } from '../common/util/dbp';\n\n//********************\n//\tVariables\n//********************\nvar languages = [];\nvar queriedLanguages = [];\nvar versions = [];\nvar versionIds = [];\n\nFCBH.docReady(() => {\n  const searchbar = document.getElementById(\"Search\");\n  const languageAutocomplete = document.getElementById(\"language-search-dropdown\");\n  const params = new URLSearchParams(window.location.search);\n  const languageParam = params.get(\"language\") ? capitalize(params.get(\"language\")) : null\n  const versionParam = params.get(\"version\");\n  const downloadReCaptchaId = \"download-recaptcha\";\n  \n  var downloadReCaptcha = document.getElementsByClassName(\"g-recaptcha\")[0];\n  downloadReCaptcha.id = downloadReCaptchaId;\n\n  addInputsWatchers();\n\n  const onSearchbarValueChange = function (key, value) {\n    setLanguageAutocomplete(\n      key,\n      value,\n      languages.map((lang) => lang.language_english)\n    );\n  };\n\n  const onLanguageChange = function (language) {\n    languageAutocomplete.style.display = \"none\";\n    handleLanguageChange(language, false);\n    setSearchbar(language);\n  };\n\n  function handleLanguageChange(lang, version = \"ENGESVN2DA\") {\n    const selectedLang = languages.find(\n      (language) => language.language_english.toLowerCase() === lang?.toLowerCase()\n    ) || {\n      language_english: \"English\",\n      language_family_code: \"ENG\",\n    };\n    fetchVersions(selectedLang, version);\n  }\n\n  searchbar.onclick = searchbar.onkeyup = (e) => {\n    onSearchbarValueChange(e.which, e.target.value);\n  };\n\n  searchbar.addEventListener(\"keyup\", (ev) => handleLanguageAutocompleteInteraction(ev));\n  languageAutocomplete.addEventListener(\"mouseover\", (ev) => handleLanguageAutocompleteInteraction(ev));\n\n  searchbar.addEventListener(\"keydown\", function (e) {\n    if (e.which == 40 || e.which == 38 || e.which == 13) {\n      e.preventDefault(); // stops left and right cursor movement\n    }\n  });\n\n  function setLanguageAutocomplete(key, value, languageList) {\n    if (key !== 38 && key !== 40 && key !== 13) {\n      var matches;\n      var i;\n\n      var _ret = (function () {\n        var div = languageAutocomplete;\n        div.innerHTML = \"\";\n        div.style.display = \"none\";\n\n        var search = value.toLowerCase();\n        matches = 0;\n\n        if (search.length > 0) {\n          div.style.display = \"block\";\n\n          var _loop = function _loop() {\n            if (matches > 7) {\n              return {\n                v: {\n                  v: void 0,\n                },\n              };\n            }\n            var languageName = languageList[i];\n            if (languageName.toLowerCase().search(search) == 0) {\n              matches++;\n              var matchedText = languageName.slice(0, search.length);\n              var restOfText = languageName.slice(search.length);\n              var d = document.createElement(\"div\");\n              d.innerHTML = \"<strong>\" + matchedText + \"</strong>\" + restOfText;\n              d.onclick = function () {\n                onLanguageChange(languageName);\n              };\n              div.appendChild(d);\n            }\n          };\n\n          for (i = 0; i < languageList.length; i++) {\n            var _ret2 = _loop();\n\n            if (typeof _ret2 === \"object\") return _ret2.v;\n          }\n\n          if (matches == 0) {\n            div.style.display = \"none\";\n            console.log(\"no matches\");\n          }\n        }\n      })();\n\n      if (typeof _ret === \"object\") return _ret.v;\n    }\n  }\n\n  function handleLanguageAutocompleteInteraction(e) {\n    var div = languageAutocomplete;\n    var active = div.querySelector(\".isActive\");\n\n    if (div.style.display === \"block\") {\n      if (e.type === \"mouseover\" && e.target.nodeName.toLowerCase() != \"strong\") {\n        if (active) {\n          active.classList.remove(\"isActive\");\n        }\n        active = e.target;\n        active.classList.add(\"isActive\");\n      } else if (e.type == \"keyup\" && (e.which == 40 || e.which == 38)) {\n        e.preventDefault();\n\n        if (active) {\n          active.classList.remove(\"isActive\");\n        }\n\n        if (e.which == 40) {\n          //\tdown\n          active = !active ? div.firstChild : active.nextElementSibling || active;\n        } else if (e.which == 38) {\n          // up\n          if (!active) {\n            return;\n          }\n          active = active.previousElementSibling || active;\n        }\n        active.classList.add(\"isActive\");\n        setSearchbar(active.innerText);\n      } else if (e.type == \"keyup\" && e.which == 13) {\n        //\tenter was pressed\n        if (active) {\n          onLanguageChange(active.innerText);\n        }\n      }\n    }\n  }\n\n  function setSearchbar(text) {\n    searchbar.value = text;\n  }\n\n  function setVersion(versionId) {\n    const versionSelect = document.querySelector(\"#mp3-version .w-dropdown-list\").childNodes;\n    onVersionChange(versionSelect[0].id, versionSelect[0].textContent);\n    if (searchbar.value === languageParam) {\n      const result = Array.from(versionSelect).filter(element => element.id == versionId)\n      onVersionChange(result[0].id, result[0].text)\n    }\n  }\n\n  //********************\n  //\tOn Document Ready\n  //********************\n  isLessThenIE10();\n\n  //\tLoads all the languages\n  //\tAlso calls function that reads url to display version in url (if any)\n\n  let start = null;\n\n  getLanguages()\n    .then( loadDropdownLanguages )\n    .catch( console.error )\n    .finally(() => {\n      document.querySelectorAll(\".w-dropdown-list\").forEach((el) => {\n        el.style[\"max-height\"] = \"300px\";\n      });\n  });\n\n  //********************\n  //\tFunctions\n  //********************\n  function isLessThenIE10() {\n    var ua = window.navigator.userAgent;\n    var msie = ua.indexOf(\"MSIE \");\n\n    if (msie > 0) {\n      // IE 10 or older => return version number\n      var e = parseInt(ua.substring(msie + 5, ua.indexOf(\".\", msie)), 10);\n      if (e < 10) {\n        document.getElementById(\"ie-error\").style.display = \"block\";\n      }\n    }\n  }\n\n  async function getLanguages() {\n    const baseUrl = `${DBP_BASE_URL}/api/languages?v=4&key=${DBP_KEY}&limit=150`;\n\n    const { data: { data, meta: { pagination } } } = await FCBH.axiosInstance.get( baseUrl );\n\n    const response = await Promise.all( prepareLanguagesRequest( baseUrl, pagination.total_pages ) )\n\n    return [].concat( getMappedLanguages( data ), flattenLanguages( response ) );\n  }\n\n  function prepareLanguagesRequest( baseUrl, totalPages = 0 ){\n    const requests = [];\n\n    for (let page = 2; page < totalPages + 1; page++) {\n      requests.push(FCBH.axiosInstance.get( `${baseUrl}&page=${page}` ) )\n    }\n\n    return requests;\n  }\n\n  function flattenLanguages( response ){\n    return response.reduce( ( arr, res ) => arr.concat( getMappedLanguages( res.data.data ) ), []);\n  }\n\n  function getMappedLanguages( data ){\n    return data.map( x => ( { \n        language_english: x.name,\n        language_family_code: x.iso?.toUpperCase(),\n        language_name: x.autonym, \n      } )\n    ); \n  }\n\n  async function loadDropdownLanguages( data ){\n    languages = data;\n\n    handleLanguageChange(languageParam, \"ENGESVN2DA\");\n    setSearchbar(languageParam || \"English\");\n  }\n\n  async function fetchVersions(lang, selectedDamId) {\n    if ( !lang ) return; \n\n    versions = [];\n    versionIds = [];\n    closeSearchDiv();\n\n    const baseUrl = `${DBP_BASE_URL}/library/volume?key=${DBP_KEY}&media=audio&status=live&delivery=digital_download&language_family_code=${lang.language_family_code}&rich=1&v=3`;\n\n    try {\n      const { data } = await FCBH.axiosInstance.get( baseUrl );\n\n      if ( isEmpty( data ) ) return;\n\n      for (let i = 0; i < data.length; i++) {\n        if (versionIds.indexOf(data[i].dam_id) < 0) {\n          versions.push(data[i]);\n          versionIds.push(data[i].dam_id);\n        }\n      }\n\n      renderVersions(versions, selectedDamId);\n\n      if(versionParam) setVersion(versionParam);\n\n      const s = selectedDamId ? selectedDamId : versions[0].dam_id;\n      renderCopyright(s);\n\n    } catch (error) {\n      console.error(error);\n      showErrorWithMessage(\"An error occurred. Please try again later.\");\n    }\n  }\n\n  function renderVersions(json, selectedDamId) {\n    const container = document.querySelector(\"#mp3-version .w-dropdown-list\");\n    //\tremove previous versions\n    while (container.firstChild) {\n      container.removeChild(container.firstChild);\n    }\n\n    if (json.length > 0) {\n      let damId;\n      for (let i = 0; i < json.length; i++) {\n        const j = json[i];\n        const testamentInitial = j.dam_id.slice(6, 7);\n        const testament = \"\";\n        if (testamentInitial == \"N\") {\n          testament = \"New Testament\";\n        } else if (testamentInitial == \"O\") {\n          testament = \"Old Testament\";\n        } else if (testamentInitial == \"P\") {\n          testament = \"Partial\";\n        }\n\n        const node = document.createElement(\"A\");\n        node.href = \"#\";\n        node.classList.add(\"dropdown-link\", \"w-dropdown-link\");\n        const textNode = document.createTextNode(j.volume_name + \" Audio \" + j.media_type + \" \" + testament);\n        node.id = j.dam_id;\n        node.appendChild(textNode);\n        node.addEventListener(\"click\", () => {\n          onVersionChange(node.id, node.textContent, true);\n          setParams()\n        });\n        container.appendChild(node);\n\n        if (selectedDamId && selectedDamId.toLowerCase() == j.dam_id.toLowerCase()) {\n          node.selected = true;\n          damId = j.dam_id;\n          onVersionChange(node.id, node.textContent);\n        }\n      }\n    } else {\n      const node = document.createElement(\"A\");\n      node.href = \"#\";\n      node.classList.add(\"dropdown-link\", \"w-dropdown-link\");\n      var textNode = document.createTextNode(\"No versions available.\");\n      node.appendChild(textNode);\n      node.id = \"noVersion\";\n      container.appendChild(node);\n    }\n    if (!selectedDamId) {\n      onVersionChange(container.firstElementChild.id, container.firstElementChild.textContent);\n      setParams()\n    }\n  }\n\n  function setParams() {\n    const version = document.querySelector(\"#mp3-version .w-dropdown-toggle div\").dataset.value\n    const newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + `?language=${searchbar.value}&version=${version}`;\n    window.history.pushState({path:newurl},'',newurl);\n  }\n\n  function onVersionChange(damId, textContent, isEventChange = false) {\n    hideError();\n    if (! damId) return;\n\n    const textValue = document.querySelector(\"#w-dropdown-toggle-0 div\");\n    textValue.setAttribute(\"data-value\", damId);\n    textValue.textContent = textContent;\n    textValue.style.overflow = \"hidden\";\n\n    if ( isEventChange ){\n      const textValue = document.querySelector(\"#w-dropdown-toggle-0 div\");\n      \n      textValue.dispatchEvent(\n        new MouseEvent(\"mouseup\", {\n          view: window,\n          bubbles: true,\n          cancelable: false,\n        })\n      );\n      textValue.dispatchEvent(\n        new MouseEvent(\"click\", {\n          view: window,\n          bubbles: true,\n          cancelable: false,\n        })\n      );\n    }\n   \n    renderCopyright(damId);\n    return;\n  }\n\n  function renderCopyright(damId) {\n    if (!damId) {\n      return;\n    }\n\n    var rootDamId = damId.slice(0, 7); // get room dam id\n    var details = {};\n\n    $.get({\n      url: `${FCBH.BASE_URL}ci/index.php/dbp/get_audio/` + rootDamId.toUpperCase(),\n      dataType: \"json\",\n      success: function (json) {\n        if (json) {\n          for (var i = 0; i < json.length; i++) {\n            if (json[i].dam_id.slice(-2) == \"DA\") {\n              details[\"publisherMark\"] = json[i].mark; // get publisher mark\n              for (var j = 0; j < json[i].organization.length; j++) {\n                var org = json[i].organization[j];\n\n                if (org.organization_role == \"licensor\") {\n                  details[\"licensor\"] = org.organization;\n                  details[\"licensorURL\"] = org.organization_url;\n                }\n\n                if (org.organization_role == \"holder\") {\n                  details[\"holderOrg\"] = org.organization;\n                  details[\"holderURL\"] = org.organization_url;\n                }\n              }\n            }\n\n            if (json[i].dam_id.slice(-2) == \"ET\") {\n              details[\"copyrightMark\"] = json[i].mark; // get copyright mark\n              if (json[i].organization.length > 0) {\n                //return cr.organization[0];\n                details[\"copyrighter\"] = json[i].organization[0].organization;\n                details[\"copyrighterURL\"] = json[i].organization[0].organization_url;\n              }\n            }\n          }\n        }\n\n        const copyrightNode = document.querySelector(\"#wf-form-MP3-Downloads .txt-notice\");\n        while (copyrightNode.lastChild) {\n          copyrightNode.removeChild(copyrightNode.lastChild);\n        }\n\n        if (notEmpty(details)) {\n          if (details.copyrightMark) {\n            const span = document.createElement(\"span\");\n            span.innerHTML = details.copyrightMark;\n            span.classList.add(\"block\");\n            copyrightNode.appendChild(span);\n          }\n          if (details.copyrighter && details.copyrighterURL) {\n            const span = document.createElement(\"span\");\n            span.innerHTML = \"<a href='\" + details.copyrighterURL + \"'>\" + details.copyrighter + \"</a>\";\n            span.classList.add(\"block\");\n            copyrightNode.appendChild(span);\n          }\n          if (details.licensor && details.licensorURL) {\n            const span = document.createElement(\"span\");\n            span.innerHTML = \"<a href='\" + details.licensorURL + \"'> \" + details.licensor + \"</a>\";\n            span.classList.add(\"block\");\n            copyrightNode.appendChild(span);\n          }\n\n          if (details.holderOrg && details.holderURL) {\n            const span = document.createElement(\"span\");\n            span.innerHTML =\n              \"This Bible audio is brought to you by <a href='\" + details.holderURL + \"'>\" + details.holderOrg + \"</a>\";\n            span.classList.add(\"block\");\n            copyrightNode.appendChild(span);\n          }\n          if (details.publisherMark) {\n            const span = document.createElement(\"span\");\n            span.innerHTML = details.publisherMark;\n            span.classList.add(\"block\");\n            copyrightNode.appendChild(span);\n          }\n        } else {\n          copyrightNode.textContent = \"No copyright information available.\";\n        }\n      },\n      error: function () {\n        // error handling\n      },\n    });\n  }\n\n  function onDownloadClicked(event) {\n    hideError();\n\n    const name = document.getElementById(\"mp3-name\").value;\n    const lastName = document.getElementById(\"Mp3-Last-Name\").value;\n    const email = document.getElementById(\"mp3-email\").value;\n    const recieveEmails = document.getElementById(\"Receive Email Updates\").checked ? true : false;\n\n    console.log('Downloading', {\n      name,\n      lastName,\n      email,\n      recieveEmails,\n    });\n\n    if (isTextEmpty(name) || isTextEmpty(email) || isTextEmpty(lastName)) {\n      showErrorWithMessage(\"Please fill out all form fields to download this Audio Bible.\");\n      return;\n    }\n\n    if (!atLeastOneLetter(name)) {\n      showErrorWithMessage(\"First Name can only contain letters and spaces.\");\n      event.preventDefault();\n      return;\n    }\n\n    if (!atLeastOneLetter(lastName)) {\n      showErrorWithMessage(\"Last Name can only contain letters and spaces.\");\n      event.preventDefault();\n      return;\n    }\n\n    if (!validEmail(email)) {\n      showErrorWithMessage(\"Email address is not valid.\");\n      event.preventDefault();\n      return;\n    }\n\n    const textValue = document.querySelector(\"#w-dropdown-toggle-0 div\");\n    const damId = textValue.getAttribute(\"data-value\");\n    if (damId === \"noVersion\") {\n      showErrorWithMessage(\"Please select an audio bible version.\");\n      return;\n    }\n\n    const i = Array.from(document.querySelectorAll(\"#mp3-version .w-dropdown-list a\")).findIndex(\n      (option) => option.id === damId\n    );\n\n    if (i < 0) {\n      // throw error\n      console.log(\"COULDN'T FIND VERSION\");\n      showErrorWithMessage(\"An error occurred. Please try again later.\");\n      return;\n    }\n\n    const v = versions[i];\n    if (!v) {\n      // throw error\n      console.log(\"VERSION IS NOT TRUE\");\n      showErrorWithMessage(\"An error occurred. Please try again later.\");\n      return;\n    }\n\n    var response = grecaptcha.getResponse();\n    if(response.length == 0) { \n      //reCaptcha not verified\n      return;\n    }\n\n    const successContainer = document.querySelector(\".w-form-done\");\n    const linkNode = successContainer.querySelector(\"a\");\n    const downloader = document.createElement(\"a\");\n\n    downloader.download = true;\n    downloader.href = v.audio_zip_path;\n    downloader.textContent = 'here';\n\n    linkNode.parentNode.replaceChild(downloader, linkNode);\n\n    successContainer.style.display = \"block\";\n    downloader.click();\n\n    const obj = {\n      first_name: name,\n      last_name: lastName,\n      timestamp: Date.now().toString(),\n      language: v.language_english.toString(),\n      language_code: v.language_code.toString(),\n      version_dam_id: v.dam_id.toString(),\n      version_name: v.volume_name.toString(),\n      email: email.toLowerCase(),\n      recieve_emails: recieveEmails,\n    };\n    \n    // send to firebase\n    FCBH.firebaseDb\n      .collection(\"audioBibleDownloads\")\n      .add(obj)\n      .then(function (docRef) {\n        console.log(\"DOCUMENT WAS SENT\");\n      })\n      .catch(function (error) {\n        console.error(\"Error adding document: \", error);\n        console.log(\"ERROR: DOCUMENT WAS NOT SENT\");\n      });\n\n    if (!recieveEmails) {\n      document.getElementById(\"wf-form-MP3-Downloads\").style.display = 'none';\n      event.preventDefault();\n    }\n\n    window.scrollTo(0,0);\n  }\n\n  function closeSearchDiv() {\n    if (document.getElementById(\"searchDiv\")) document.getElementById(\"searchDiv\").style.display = \"none\";\n  }\n\n  function showErrorWithMessage(message) {\n    const messageContainer = document.querySelector(\".w-form-fail\");\n    const text = messageContainer.querySelector(\"div\");\n    messageContainer.style.display = \"block\";\n    text.innerHTML = message;\n  }\n\n  function hideError() {\n    const messageContainer = document.querySelector(\".w-form-fail\");\n    messageContainer.style.display = \"none\";\n  }\n  //********************\n  //\tHelpers\n  //********************\n  function notEmpty(obj) {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  function isTextEmpty(text) {\n    return text.trim() == \"\";\n  }\n\n  function lettersOnly(text) {\n    const t = text.trim();\n    const regex = /^[a-zA-Z\\s]*$/;\n    return regex.test(t);\n  }\n\n  function atLeastOneLetter(text) {\n    const t = text.trim();\n    const regex = /[a-zA-Z]/;\n    return regex.test(t);\n  }\n\n  function validEmail(text) {\n    var t = text.trim();\n    var letters = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return t.match(letters) ? true : false;\n  }\n\n  function addInputsWatchers(){\n    const inputIds = [\"Mp3-Last-Name\", \"mp3-name\"];\n\n    inputIds.forEach(inputId => {\n      document.getElementById(inputId)\n        .addEventListener(\"keyup\", checkAllowedText )\n    });\n  }\n\n  function checkAllowedText({ target }){\n    if(! lettersOnly(target.value)) target.value = target.value.replace(/[^\\p{L} \\s.-]+/gu, \"\");\n  }\n\n  document.getElementById(\"wf-form-MP3-Downloads\").addEventListener(\"submit\", onDownloadClicked);\n  document.querySelectorAll(`#wf-form-MP3-Downloads input[type='submit']`).forEach((button) => {\n    button.addEventListener(\"click\", onDownloadClicked);\n  });\n});\n "],"sourceRoot":""}